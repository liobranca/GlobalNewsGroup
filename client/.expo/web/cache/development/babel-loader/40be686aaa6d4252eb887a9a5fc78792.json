{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { switchRender } from \"../../store/render\";\nimport Styles from \"../style/Style\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar EncuestasVista = function EncuestasVista() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      surveys = _useState2[0],\n      setSurveys = _useState2[1];\n\n  var render = useSelector(function (state) {\n    return state.render;\n  });\n  useEffect(function () {\n    axios.get(\"http://localhost:8080/api/survey/\").then(function (r) {\n      return setSurveys(r.data);\n    }).catch(function (err) {\n      return console.error(\"User invalid\", err);\n    });\n  }, [render]);\n\n  var renderItem = function renderItem(_ref) {\n    var item = _ref.item;\n    return _jsx(View, {\n      children: _jsx(Item, {\n        name: item.name,\n        description: item.description,\n        id: item.id,\n        render: render\n      })\n    });\n  };\n\n  return _jsxs(SafeAreaView, {\n    style: Styles.containerDelete,\n    children: [_jsx(View, {\n      style: {\n        alignItems: \"center\"\n      },\n      children: _jsx(Text, {\n        style: Styles.title,\n        children: \"Encuestas\"\n      })\n    }), _jsx(FlatList, {\n      data: surveys,\n      renderItem: renderItem,\n      keyExtractor: function keyExtractor(item) {\n        return item.id;\n      }\n    })]\n  });\n};\n\nexport default EncuestasVista;\n\nvar Item = function Item(_ref2) {\n  var name = _ref2.name,\n      description = _ref2.description,\n      id = _ref2.id,\n      render = _ref2.render;\n  var navigation = useNavigation();\n  var dispatch = useDispatch();\n\n  var handleDelete = function handleDelete() {\n    axios.delete(\"http://localhost:8080/api/survey/removeSurvey?id=\" + id).then(function (r) {\n      return dispatch(switchRender(!render));\n    }).catch(function (err) {\n      return console.error(\"User invalid\", err);\n    });\n  };\n\n  return _jsxs(View, {\n    style: Styles.item,\n    children: [_jsx(View, {\n      style: {\n        flexDirection: \"row\",\n        width: \"100%\"\n      },\n      children: _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          return navigation.navigate(\"Encuesta\", {\n            id: id\n          });\n        },\n        children: _jsx(Text, {\n          style: Styles.title,\n          children: name\n        })\n      })\n    }), _jsx(Text, {\n      style: Styles.subtitle,\n      children: description\n    })]\n  });\n};","map":{"version":3,"names":["useNavigation","axios","React","useEffect","useState","useDispatch","useSelector","switchRender","Styles","EncuestasVista","surveys","setSurveys","render","state","get","then","r","data","catch","err","console","error","renderItem","item","name","description","id","containerDelete","alignItems","title","Item","navigation","dispatch","handleDelete","delete","flexDirection","width","navigate","subtitle"],"sources":["/home/lio/Escritorio/bootcampCursada/GlobalNewGroup/client/src/components/EncuestasVista.jsx"],"sourcesContent":["import { useNavigation } from \"@react-navigation/native\"\r\nimport axios from \"axios\"\r\nimport React, { useEffect, useState } from \"react\"\r\nimport {\r\n  FlatList,\r\n  SafeAreaView,\r\n  Text,\r\n  TouchableOpacity,\r\n  View,\r\n} from \"react-native\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { switchRender } from \"../../store/render\"\r\nimport Styles from \"../style/Style\"\r\n\r\nconst EncuestasVista = () => {\r\n  const [surveys, setSurveys] = useState([])\r\n  const render = useSelector((state) => state.render)\r\n  useEffect(() => {\r\n    axios\r\n      .get(`http://localhost:8080/api/survey/`)\r\n      .then((r) => setSurveys(r.data))\r\n      .catch((err) => console.error(\"User invalid\", err))\r\n  }, [render])\r\n\r\n  const renderItem = ({ item }) => (\r\n    <View>\r\n      <Item\r\n        name={item.name}\r\n        description={item.description}\r\n        id={item.id}\r\n        render={render}\r\n      />\r\n    </View>\r\n  )\r\n\r\n  return (\r\n    <SafeAreaView style={Styles.containerDelete}>\r\n      <View style={{ alignItems: \"center\" }}>\r\n        <Text style={Styles.title}>Encuestas</Text>\r\n      </View>\r\n      <FlatList\r\n        data={surveys}\r\n        renderItem={renderItem}\r\n        keyExtractor={(item) => item.id}\r\n      />\r\n    </SafeAreaView>\r\n  )\r\n}\r\n\r\nexport default EncuestasVista\r\n\r\nconst Item = function ({ name, description, id, render }) {\r\n  const navigation = useNavigation()\r\n  const dispatch = useDispatch()\r\n  const handleDelete = () => {\r\n    axios\r\n      .delete(`http://localhost:8080/api/survey/removeSurvey?id=${id}`)\r\n      .then((r) => dispatch(switchRender(!render)))\r\n      .catch((err) => console.error(\"User invalid\", err))\r\n  }\r\n\r\n  return (\r\n    <View style={Styles.item}>\r\n      <View style={{ flexDirection: \"row\", width: \"100%\" }}>\r\n        <TouchableOpacity\r\n          onPress={() => navigation.navigate(\"Encuesta\", { id })}\r\n        >\r\n          <Text style={Styles.title}>{name}</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n      <Text style={Styles.subtitle}>{description}</Text>\r\n    </View>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}