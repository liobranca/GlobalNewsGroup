{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { DeleteOutlined } from \"@ant-design/icons\";\nimport Styles from \"../style/Style\";\nimport FormStyles from \"../style/Forms.Style\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport search1 from \"../assets/search.png\";\nimport { switchRender } from \"../../store/render\";\nimport { showAlert, closeAlert } from \"react-native-customisable-alert\";\nimport GlobalStyle from \"../style/Style\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar Item = function Item(_ref) {\n  var description = _ref.description,\n      paused = _ref.paused,\n      id = _ref.id;\n  var render = useSelector(function (state) {\n    return state.render;\n  });\n  var navigation = useNavigation();\n  var dispatch = useDispatch();\n\n  var handleDelete = function handleDelete() {\n    axios.delete(\"http://localhost:8080/api/lists/delete?id=\" + id).then(function (r) {\n      return dispatch(switchRender(!render));\n    }).catch(function (err) {\n      return console.error(\"id invalido\", err);\n    });\n  };\n\n  var handleListItem = function handleListItem() {\n    navigation.navigate(\"SingleListItem\", {\n      id: id\n    });\n  };\n\n  var ButtonAlert = function ButtonAlert() {\n    return showAlert({\n      title: \"Eliminar\",\n      message: \"¿Desea eliminar la lista?\",\n      alertType: \"warning\",\n      btnLabel: \"Confirmar\",\n      leftBtnLabel: \"Cancelar\",\n      onPress: function onPress() {\n        handleDelete(), closeAlert();\n      }\n    });\n  };\n\n  return _jsxs(View, {\n    style: Styles.item,\n    children: [_jsxs(View, {\n      style: {\n        flexDirection: \"row\",\n        width: \"100%\"\n      },\n      children: [_jsx(TouchableOpacity, {\n        onPress: handleListItem,\n        children: _jsx(Text, {\n          style: Styles.title,\n          children: description\n        })\n      }), _jsx(TouchableOpacity, {\n        onPress: ButtonAlert,\n        style: {\n          position: \"absolute\",\n          right: \"0\"\n        },\n        children: _jsx(DeleteOutlined, {\n          style: Styles.icons\n        })\n      })]\n    }), paused ? _jsxs(Text, {\n      style: {\n        float: \"right\",\n        color: \"red\",\n        marginRight: \"10px\"\n      },\n      children: [\" \", \"Pausada\"]\n    }) : _jsxs(Text, {\n      style: {\n        float: \"right\",\n        color: \"green\",\n        marginRight: \"10px\"\n      },\n      children: [\" \", \"Activa\"]\n    })]\n  });\n};\n\nvar ListsView = function ListsView() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      lists = _useState2[0],\n      setLists = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      search = _useState4[0],\n      setSearch = _useState4[1];\n\n  var dispatch = useDispatch();\n  var render = useSelector(function (state) {\n    return state.render;\n  });\n  useEffect(function () {\n    axios.get(\"http://localhost:8080/api/lists\").then(function (res) {\n      return setLists(res.data);\n    });\n  }, [render]);\n\n  function handleSubmit(_x) {\n    return _handleSubmit.apply(this, arguments);\n  }\n\n  function _handleSubmit() {\n    _handleSubmit = _asyncToGenerator(function* (e) {\n      console.log(e.target.value);\n      setSearch(e.target.value);\n\n      try {\n        var searchResult = yield axios.get(\"http://localhost:8080/api/lists/search/\" + e.target.value);\n        setLists(searchResult.data);\n      } catch (error) {\n        console.error(error);\n      }\n    });\n    return _handleSubmit.apply(this, arguments);\n  }\n\n  if (search === \"\") {\n    dispatch(switchRender(!render));\n    setSearch([]);\n  }\n\n  var renderItem = function renderItem(_ref2) {\n    var item = _ref2.item;\n    return _jsx(View, {\n      children: _jsx(Item, {\n        description: item.description,\n        paused: item.paused,\n        id: item.id\n      })\n    });\n  };\n\n  return _jsxs(SafeAreaView, {\n    style: GlobalStyle.container,\n    children: [_jsx(View, {\n      style: {\n        alignItems: \"center\"\n      },\n      children: _jsx(View, {\n        style: {\n          flex: 1,\n          width: \"100%\"\n        },\n        children: _jsxs(View, {\n          style: {\n            flexDirection: \"row\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\"\n          },\n          children: [_jsx(TextInput, {\n            style: _objectSpread(_objectSpread({}, FormStyles.text), {}, {\n              backgroundColor: \"#f2f2f2\"\n            }),\n            value: search,\n            placeholder: \"Search\",\n            placeholderTextColor: \"#A9B4B4\",\n            onChange: handleSubmit\n          }), _jsx(TouchableOpacity, {\n            style: {\n              display: \"inline-block\"\n            },\n            onPress: handleSubmit,\n            children: _jsx(Image, {\n              source: search1,\n              style: {\n                width: 40,\n                height: 40\n              }\n            })\n          })]\n        })\n      })\n    }), lists[0] ? _jsx(FlatList, {\n      data: lists.sort(function (a, b) {\n        return a.description - b.description;\n      }),\n      renderItem: renderItem,\n      keyExtractor: function keyExtractor(item) {\n        return item.id;\n      }\n    }) : _jsx(Text, {\n      children: \" No hay coincidencia\"\n    })]\n  });\n};\n\nexport default ListsView;","map":{"version":3,"names":["axios","useEffect","useState","DeleteOutlined","Styles","FormStyles","useNavigation","useDispatch","useSelector","search1","switchRender","showAlert","closeAlert","GlobalStyle","Item","description","paused","id","render","state","navigation","dispatch","handleDelete","delete","then","r","catch","err","console","error","handleListItem","navigate","ButtonAlert","title","message","alertType","btnLabel","leftBtnLabel","onPress","item","flexDirection","width","position","right","icons","float","color","marginRight","ListsView","lists","setLists","search","setSearch","get","res","data","handleSubmit","e","log","target","value","searchResult","renderItem","container","alignItems","flex","justifyContent","text","backgroundColor","display","height","sort","a","b"],"sources":["/home/lio/Escritorio/bootcampCursada/GlobalNewGroup/client/src/components/ListsView.jsx"],"sourcesContent":["import axios from \"axios\"\r\nimport { useEffect, useState } from \"react\"\r\nimport {\r\n  SafeAreaView,\r\n  View,\r\n  FlatList,\r\n  Text,\r\n  TouchableOpacity,\r\n  TextInput,\r\n  Image,\r\n  Alert,\r\n} from \"react-native\"\r\nimport { DeleteOutlined } from \"@ant-design/icons\"\r\nimport Styles from \"../style/Style\"\r\nimport FormStyles from \"../style/Forms.Style\"\r\nimport { useNavigation } from \"@react-navigation/native\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport search1 from \"../assets/search.png\"\r\nimport { switchRender } from \"../../store/render\"\r\nimport { showAlert, closeAlert } from \"react-native-customisable-alert\"\r\n\r\nimport GlobalStyle from \"../style/Style\"\r\n\r\nconst Item = function ({ description, paused, id }) {\r\n  const render = useSelector((state) => state.render)\r\n  const navigation = useNavigation()\r\n  const dispatch = useDispatch()\r\n  const handleDelete = () => {\r\n    axios\r\n      .delete(`http://localhost:8080/api/lists/delete?id=${id}`)\r\n      .then((r) => dispatch(switchRender(!render)))\r\n      .catch((err) => console.error(\"id invalido\", err))\r\n  }\r\n\r\n  const handleListItem = () => {\r\n    navigation.navigate(\"SingleListItem\", { id: id })\r\n  }\r\n  const ButtonAlert = () => {\r\n    return showAlert({\r\n      title: \"Eliminar\",\r\n      message: \"¿Desea eliminar la lista?\",\r\n      alertType: \"warning\",\r\n      btnLabel: \"Confirmar\",\r\n      leftBtnLabel: \"Cancelar\",\r\n      onPress: () => {\r\n        handleDelete(), closeAlert()\r\n      },\r\n    })\r\n  }\r\n\r\n  return (\r\n    <View style={Styles.item}>\r\n      <View style={{ flexDirection: \"row\", width: \"100%\" }}>\r\n        <TouchableOpacity onPress={handleListItem}>\r\n          <Text style={Styles.title}>{description}</Text>\r\n        </TouchableOpacity>\r\n        <TouchableOpacity\r\n          onPress={ButtonAlert}\r\n          style={{ position: \"absolute\", right: \"0\" }}\r\n        >\r\n          <DeleteOutlined style={Styles.icons} />\r\n        </TouchableOpacity>\r\n      </View>\r\n      {paused ? (\r\n        <Text style={{ float: \"right\", color: \"red\", marginRight: \"10px\" }}>\r\n          {\" \"}\r\n          Pausada\r\n        </Text>\r\n      ) : (\r\n        <Text style={{ float: \"right\", color: \"green\", marginRight: \"10px\" }}>\r\n          {\" \"}\r\n          Activa\r\n        </Text>\r\n      )}\r\n    </View>\r\n  )\r\n}\r\n\r\nconst ListsView = () => {\r\n  const [lists, setLists] = useState([])\r\n  const [search, setSearch] = useState([])\r\n  const dispatch = useDispatch()\r\n  const render = useSelector((state) => state.render)\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`http://localhost:8080/api/lists`)\r\n      .then((res) => setLists(res.data))\r\n  }, [render])\r\n\r\n  async function handleSubmit(e) {\r\n    console.log(e.target.value)\r\n    setSearch(e.target.value)\r\n    try {\r\n      const searchResult = await axios.get(\r\n        `http://localhost:8080/api/lists/search/${e.target.value}`\r\n      )\r\n      setLists(searchResult.data)\r\n    } catch (error) {\r\n      console.error(error)\r\n    }\r\n  }\r\n  if (search === \"\") {\r\n    dispatch(switchRender(!render))\r\n    setSearch([])\r\n  }\r\n\r\n  const renderItem = ({ item }) => (\r\n    <View>\r\n      <Item description={item.description} paused={item.paused} id={item.id} />\r\n    </View>\r\n  )\r\n  return (\r\n    <SafeAreaView style={GlobalStyle.container}>\r\n      <View style={{ alignItems: \"center\" }}>\r\n        <View style={{ flex: 1, width: \"100%\" }}>\r\n          <View\r\n            style={{\r\n              flexDirection: \"row\",\r\n              justifyContent: \"space-between\",\r\n              alignItems: \"center\",\r\n            }}\r\n          >\r\n            <TextInput\r\n              style={{ ...FormStyles.text, backgroundColor: \"#f2f2f2\" }}\r\n              value={search}\r\n              placeholder=\"Search\"\r\n              placeholderTextColor=\"#A9B4B4\"\r\n              onChange={handleSubmit}\r\n            />\r\n\r\n            <TouchableOpacity\r\n              style={{ display: \"inline-block\" }}\r\n              onPress={handleSubmit}\r\n            >\r\n              <Image source={search1} style={{ width: 40, height: 40 }} />\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </View>\r\n      {lists[0] ? (\r\n        <FlatList\r\n          data={lists.sort((a, b) => a.description - b.description)}\r\n          renderItem={renderItem}\r\n          keyExtractor={(item) => item.id}\r\n        />\r\n      ) : (\r\n        <Text> No hay coincidencia</Text>\r\n      )}\r\n    </SafeAreaView>\r\n  )\r\n}\r\n\r\nexport default ListsView\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}